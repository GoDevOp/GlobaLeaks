<h3 data-translate>Certificate Signature Request (CSR) generator</h3>
<div data-ng-form name="certSigRequestForm" class="form-horizontal">
  <p data-translate>
    <span data-translate>This form will generate a certificate signing request to use with the private key generated above</span>
    <span data-translate>Once you are finished with this form, you will need to ensure that the domain you are intending to host the certificate on is validated by the authority.</span>
    <span data-translate>You must take this request to your certificate authority who will give you a certificate and an intermediate chain to upload in the interface below.</span>
  </p>

  <div class="form-group">
    <label class="col-md-4 control-label" data-translate>Domain Name</label>
    <div class="col-md-8">
      <input class="form-control" type="text" data-ng-model="csr_cfg.commonname" required/>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" data-translate>Country name</label>
    <div class="col-md-8">
      <input class="form-control" type="text" data-ng-model="csr_cfg.country" required/>
    </div>
  </div>
  <div class="form-group">
    <label class="col-md-4 control-label" data-translate>State or Province name</label>
    <div class="col-md-8">
      <input class="form-control" data-ng-model="csr_cfg.province" type="text" required/>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" data-translate>Locality name</label>
    <div class="col-md-8">
      <input class="form-control" data-ng-model="csr_cfg.city" type="text" required/>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" data-translate>Organization</label>
    <div class="col-md-8">
      <input class="form-control" data-ng-model="csr_cfg.company" required/>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" data-translate>Organizational unit</label>
    <div class="col-md-8">
      <input class="form-control" data-ng-model="csr_cfg.department"
        data-ng-class="{'has-error': certSigRequestForm.department.$error}"
      />
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" data-translate>Email</label>
    <div class="col-md-8">
      <input class="form-control" data-ng-model="csr_cfg.email" type="text" required/>
    </div>
  </div>

  <div class="panel panel-danger" data-ng-if="certSigRequestForm.$invalid && certSigRequestForm.$dirty">
    <div class="panel-heading">
      <b data-translate>Errors</b>
    </div>
    <div class="panel-body text-danger">
      <ul>
        <li data-ng-repeat="(key, error) in certSigRequestForm.$error track by $index">
          <span>{{ key }} {{ error }}</span>
        </li>
      </ul>
    </div>
  </div>

  <button class="btn btn-success" ng-click="submitCSR()">
    <span data-translate>Generate</span>
  </button>
</div>
